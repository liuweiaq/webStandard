<!DOCTYPE html>
<html>
<head>
    <title>JavaScript代码规范</title>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
    <!-- 新 Bootstrap 核心 CSS 文件 -->
	<link rel="stylesheet" href="lib/bootstrap/css/bootstrap.min.css">
	<!-- 可选的Bootstrap主题文件 -->
	<link rel="stylesheet" href="lib/bootstrap/css/bootstrap-theme.min.css">
	<!-- 主样式表 -->
	
	<link rel="stylesheet" href="css/docs.css">
</head>
<body>
	<!--网站头部开始-->
	<header class="navbar navbar-static-top oso-docs-nav" id="top" role="banner">
	  <div class="container">
	    <div class="navbar-header">
	      <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#oso-navbar" aria-controls="oso-navbar" aria-expanded="false">
	        <span class="sr-only">Toggle navigation</span>
	        <span class="icon-bar"></span>
	        <span class="icon-bar"></span>
	        <span class="icon-bar"></span>
	      </button>
	      <a href="../" class="navbar-brand">OSO FD</a>
	    </div>
	    <nav id="oso-navbar" class="collapse navbar-collapse">
	      <ul class="nav navbar-nav">
	        <li>
	          <a href="html.html" >HTML</a>
	        </li>
	        <li>
	          <a href="css.html" >CSS</a>
	        </li>
	        <li class="active">
	          <a href="javascript.html" >JavaScript</a>
	        </li>
	      </ul>
	    </nav>
	  </div>
	</header>
	<!--网站头部结束-->
	<!--banner开始-->
	<div class="oso-docs-header">
		<div class="container">
			<h1>JavaScript编码规范</h1>
			<p>编写灵活、稳定、高质量的 HTML 、CSS 和 JavaScript 代码的规范。</p>
		</div>
	</div>
	<!--banner结束-->
	<!--主体内容开始-->
	<div class="container">
		<div class="row">
			<!--左侧导航开始-->
			<div class="col-md-3 oso-docs-list" role="complementary">
			    <nav class="oso-docs-sidebar hidden-print hidden-xs hidden-sm">
			        <ul class="nav oso-docs-sidenav">			              
			            <li>
						  <a href="#overview">总体要求</a>
						</li>
						<li>
						  <a href="#grid">命名规范</a>
						  <ul class="nav">
						    <li><a href="#grid-intro">术语定义</a></li>
						    <li><a href="#grid-media-queries">命名的基本原则</a></li>
						    <li><a href="#grid-options">各成员命名方法</a></li>
						  </ul>
						</li>
						<li>
						  <a href="#type">代码注释规范</a>
						  <ul class="nav">
						    <li><a href="#type-headings">注释原则</a></li>
						    <li><a href="#type-body-copy">注释样式</a></li>
						  </ul>
						</li>
						<li>
						  <a href="#code">JavaScript及库使用规范</a>
						  <ul class="nav">
						    <li><a href="#code-inline">原生 JavaScript 使用约定</a></li>
						    <li><a href="#code-block">jquery使用约定</a></li>
						    <li><a href="#code-appointment">RequireJS使用约定</a></li>
						    <li><a href="#code-appointment2">Backbone使用约定</a></li>
						    <li><a href="#code-iframe">其他JS框架的使用</a></li>
						  </ul>
						</li>									              
			        </ul>	
			        <a class="back-to-top" href="#top">返回顶部</a>		            
			    </nav>
			</div>
			<!--左侧导航结束-->
			<!--右侧内容开始-->
			<div class="col-md-9 oso-docs-list">
				<div class="oso-docs-section">
  					<h1 id="overview" class="page-header">总体要求</h1>
					<li>如无特殊说明，JS代码至少需要兼容<code>chrome，firefox，ie9</code>及以上版本浏览器；</li>
					<li>所有文件需统一采用UTF-8无BOM编码；</li>
					<li>避免每一行超过80个字符，当一条语句一行写不下时，需要考虑折行书写；</li>
					<li>代码组织应该清晰易懂，缩进单位为四个空格(或一个tab键)；</li>
					<li>JavaScript代码应独立保存在后缀名为.js的文件中，不能包含在HTML文件中；</li>
					<li>JavaScript代码须在严格模式(“<code>use strict</code>”)下运行，有关严格模式的要求请查阅文档：<a href="http://www.ruanyifeng.com/blog/2013/01/javascript_strict_mode.html">《JavaScript严格模式详解》</a>；</li>
					<li>为方便后续代码编写及程序调试，需搭建的基本软件环境有：<code>node.js</code>(JavaScript运行环境，是其他环境运行的基础)、<code>bower</code>(包管理工具)、<code>handlebars.js</code>(JS模板引擎)、<code>grunt</code>(项目构建工具)、<code>Nginx</code>(HTTP和反向代理服务器)等，环境搭建教程见其他相关文档；</li>
					<li>JS库引入：原则上仅能引用<code>Jquery</code>(JavaScript库)、<code>RequireJS</code>(AMD模块化管理工具)、<code>Backbone</code>(JavaScript的MVC框架)、<code>BootStrap</code>(响应式布局插件)四种JS库，若需要引入其他第三方库, 须与团队其他成员讨论决定。</li>
				</div>
				<div class="oso-docs-section">
  					<h1 id="grid" class="page-header">命名规范</h1>
  					<h2 id="grid-intro">术语定义</h2>
  					<li>Pascal大小写：</li>
  					<p>将标识符的首字母和后面连接的每个单词的首字母都大写。例如：<code>BackColor</code>。</p>
  					<li>Camel大小写：</li>
  					<p>标识符的首字母小写，而每个后面连接的单词的首字母都大写。例如：<code>backColor</code>。</p>
  					<li>全大写：</li>
  					<p>标识符的所有字母都大写。例如：<code>PI</code>。</p>
  					<h2 id="grid-media-queries">命名的基本原则</h2>
  					<li>JavaScript命名的总体原则是：尽量与原生JavaScript中命名规则相同。</li>
  					<li>名称均须使用具有实际含义的英文单词命名，不能使用JavaScript关键字，拒绝使用拼音等中式命名方法，产生歧义。</li>
  					<li>允许使用公认英文缩写，如：<code>getXML()</code>。</li>
  					<li>一般而言，方法、事件名称须是动词短语，其他命名按需求使用形容词或名词短语。</li>
  					<li>除常量名称外，其他所有名称两个单词之间均不能用下划线连接。如：<code>first_Name</code>。</li>

  					<h2 id="grid-options">各成员命名方法</h2>
  					<li>JavaScript文件名：</li>
  					<p>JavaScript文件名应为名词短语，采用Camel命名法。如：<code>countryModel.js</code>。</p>
  					<li>类名：</li>
  					<p>类名都是名词短语，采用Pascal命名法。如：<code>Person</code>。</p>
  					<li>方法(函数)名：</li>
  					<p>方法采用动词短语，Camel方法进行命名。如：<code>sayHi()</code>。</p>
  					<li>属性名：</li>
  					<p>属性名是名词短语，采用Camel方法进行命名。如：<code>name</code>。</p>
  					<li>变量名：</li>
  					<p>如无特殊说明，变量名的命名规范符合字段、私有变量、方法参数等的命名要求。</p>
  					<p>①变量名均是名词短语，符合Camel命名规范。如：<code>age</code>。</p>
  					<p>②类的私有字段、私有属性、私有方法等成员的命名须在名称前加下划线(与公有成员进行区分)。如：<code>_height;_getSize()</code>。</p>
  					<p>③变量名可以加前缀(如下表所示)，表示特定含义。</p>
	  				<table class="table table-bordered">
	  					<thead>
							<tr>
								<th class="success">前缀名</th>
								<th class="success">含义</th>
								<th class="success">示例</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td class="active">is</td>
								<td class="active">变量为布尔类型</td>
								<td class="active">isNumber</td>
							</tr>
							<tr>
								<td class="active">str</td>
								<td class="active">变量为字符串类型</td>
								<td class="active">/</td>
							</tr>
							<tr>
								<td class="active">arr</td>
								<td class="active">变量为数组</td>
								<td class="active">/</td>
							</tr>
							<tr>
								<td class="active">obj</td>
								<td class="active">变量为对象</td>
								<td class="active">/</td>
							</tr>
							<tr>
								<td class="active">num</td>
								<td class="active">变量为数字</td>
								<td class="active">/</td>
							</tr>
							<tr>
								<td class="active">$</td>
								<td class="active">变量为Jquery对象</td>
								<td class="active">$element</td>
							</tr>
							<tr>
								<td class="active">_</td>
								<td class="active">类的私有成员(字段、属性、方法等)</td>
								<td class="active">_ height</td>
							</tr>
						</tbody>
					</table>
					<p class="oso-distance">注：1)只有当需要特别说明其类型或用途的变量名才加前缀，所加前缀与后面名称组合的变量名要含义清晰；2)切记不要乱用前缀，如<code>strName,numAge</code>等有画蛇添足之嫌；3)前缀名仅限于以上几种，不能使用其他简写前缀名，以免产生歧义。</p>
					<p>④在局部变量或参数名中，可以用下表中的简写代表特定的含义。</p>
					<table class="table table-bordered">
						<thead>									
							<tr>
								<th class="success">简写</th>
								<th class="success">含义</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td class="active">o</td>
								<td class="active">表示Object</td>
							</tr>
							<tr>
								<td class="active">e</td>
								<td class="active">表示Event</td>
							</tr>
							<tr>
								<td class="active">el</td>
								<td class="active">表示Element</td>
							</tr>
							<tr>
								<td class="active">elem</td>
								<td class="active">表示Element</td>
							</tr>
						</tbody>
					</table>						 
	  				<p>注：1)只有在局部变量和参数名中才能使用上述简写命名；2)在代码中，上述四个名称不能再代表其他的含义。</p>
  				<li>常量名：</li>
  				<p>常量使用全大写方法命名，且多个单词之间用下划线连接。如<code>PI</code>。</p>				
  				</div>
				<div class="oso-docs-section">
  					<h1 id="type" class="page-header">代码注释规范</h1>
  					<h2 id="type-headings">注释原则</h2>
  						<li>注释形式必须统一</li>
  						<p>必须使用本文档规定的标点和结构样式来构造注释。注释格式如下：</p>
  						<p>①单行注释：</p>
  						<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="cp">//.....</span></code></pre></div>
  						<p>②块注释：</p>
  						<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="cp">/*.....*/</span></code></pre></div>
  						<li>注释内容需简单、明了，含义准确。</li>
  						<li>基本注释(类、方法、属性等的注释)部分需符合JSDoc语法规范。</li>
  						<p>JSDoc是JavaScript语言的一套代码注释规范，其主要命令名如下表所示：</p>
  							<table class="table table-bordered">
  								<thead>
								    <tr>
									  <th class="success">命令名</th>
									  <th class="success">描述</th>
									</tr>
								</thead>
								<tbody>
									<tr>
									  <td class="active">@param</td>
									  <td class="active">指定参数名和说明来描述一个函数参数</td>
									</tr>
									<tr>
									  <td class="active">@return</td>
									  <td class="active">函数的返回值</td>
									</tr>
									<tr>
									  <td class="active">@type</td>
									  <td class="active">函数的返回类型</td>
									</tr>
									<tr>
									  <td class="active">@author</td>
									  <td class="active">代码的作者</td>
									</tr>
									<tr>
									  <td class="active">@example</td>
									  <td class="active">范例</td>
									</tr>								
									<tr>
									  <td class="active">@description</td>
									  <td class="active">说明</td>
									</tr>																
									<tr>
									  <td class="active">@default</td>
									  <td class="active">默认值</td>
									</tr>																
									<tr>
									  <td class="active">@see</td>
									  <td class="active">描述相关的资源</td>
									</tr>
								</tbody>
							</table>
						<p>说明：这里我们只是列出了一些常用的标签，更多标签可查阅<a href="http://code.google.com/p/jsdoc-toolkit/wiki/TagReference">JSDoc相关网站</a>。	
  						</p>

  					<h2 id="type-body-copy">注释样式</h2>
  					<p>根据注释内容的不同，代码注释分为基本注释和特殊必加注释两种。这里需要特别说明的一点是：代码中不必每一处都添加注释，但对需要重点说明的地方，一定要合理安排注释内容。</p>
  					<li>基本注释</li>
  					<p>本文档中，基本注释包括类、方法、属性、主要变量等的注释，这部分内容需要用块注释格式。</p>
  					<p>①类的注释：</p>
					<div class="highlight"><pre><span class="nt">/************************************</span><br><span >* @description 一个Person类</span><br><span >* @param {String} userName 姓名</span><br><span >* @param {Num} age 年龄</span><br><span >* @example new Parent(“张三”,15);</span><br><span class="nt">************************************/</span></pre></div>
					<p>②方法的注释：</p>
					<div class="highlight"><pre><span class="nt">/************************************</span><br><span >* @description 弹出say内容</span><br><span >* @param {String} content 内容</span><br><span >* @return {String} json格式数据</span><br><span class="nt">************************************/</span></pre></div>
					<p>③属性和字段的注释：</p>
					<div class="highlight"><pre><span class="nt">/************************************</span><br><span >* @description 弹出say内容</span><br><span >* @description {Sting} 姓名</span><br><span class="nt">************************************/</span></pre></div>
  					<li>特殊必加注释</li>
  					<p>除了基本注释外，代码中有以下情形之一者，也需要添加注释：</p>
  					<p>①典型算法处；</p>
  					<p>②代码不明晰处；</p>
  					<p>③代码修改处需要加上修改标识的地方；</p>
  					<p>④循环和逻辑分支组成的代码中；</p>
  					<p>⑤为他人提供的接口。</p>
  					<p>这部分注释只需用行注释格式，简洁准确地标明注释内容即可。</p>
				</div>
				<div class="oso-docs-section">
  					<h1 id="code" class="page-header">JavaScript及库使用规范</h1>
  					<h2 id="code-inline">原生 JavaScript使用约定</h2>
  						<li>每一条JavaScript语句都要以分号结束</li>
  						<p>严格按照语法规范书写代码，保证代码在压缩后不会出错。</p>
  						<li>变量定义</li>
  						<p>在类、方法体顶端定义所有变量，var语句应该为类或方法体内的第一条语句。同时定义多个变量时，省略var关键字，用逗号代替。</p>
  						<table class="table table-bordered">
  							<thead>
	  							<tr>
	  								<th class="success" width="50%">Bad Code</th>
	  								<th class="success">Good Code</th>
	  							</tr>
  							</thead>
  							<tbody>
	  							<tr>
	  								<td class="active">
  										<code>
  											var someItem = 'some string'; <br> 
											var anotherItem = 'another string';<br>
											var oneMoreItem = 'one more string';
										</code>
  									</td>
									<td class="active">
										<code>
											var someItem = 'some string',<br>
   											&nbsp;&nbsp;&nbsp;&nbsp;	anotherItem = 'another string',<br>
   											&nbsp;&nbsp;&nbsp;&nbsp;	oneMoreItem = 'one more string';
										</code>
									</td>
	  							</tr>
  							</tbody>
  						</table>
  						<li>使用”===”代替”==”</li>
  						<p>JavaScript 使用2种不同的等值运算符：===|!== 和 ==|!=，后者附带强制类型转换，为了避免出现比较时的错误，统一使用前者作为JS代码中的等值运算符。</p>
  						<table class="table table-bordered">
  							<thead>
	  							<tr>
	  								<th class="success" width="50%">Bad Code</th>
	  								<th class="success">Good Code</th>
	  							</tr>
  							</thead>
  							<tbody>
	  							<tr>
	  								<td class="active">
  										<code>
  											if(a!=b){<br>
											&nbsp;&nbsp;&nbsp;&nbsp;...<br>
											}
										</code>
  									</td>
									<td class="active">
										<code>
											if(a!==b){<br>
											&nbsp;&nbsp;&nbsp;&nbsp;...<br>
											}
										</code>
									</td>
	  							</tr>
  							</tbody>
  						</table>
  						<li>使用 join() 来拼接字符串</li>
  						<p>在大量的字符串拼接中，应避免使用效率低的"+="方式进行拼接，而改用数组的".join()"方法来拼接字符串。</p>
  						<table class="table table-bordered">
  							<thead>
	  							<tr>
	  								<th class="success" width="50%">Bad Code</th>
	  								<th class="success">Good Code</th>
	  							</tr>
  							</thead>
  							<tbody>
	  							<tr>
	  								<td class="active">
  										<code>
  											var str=””;<br>
											for(var i=0;i &lt; 10000;i++){<br>
    										&nbsp;&nbsp;&nbsp;&nbsp;str+="&lt;input type='button' value='a'&gt;";<br>
											}<br>
											document.getElementById("one").innerHTML = str;
										</code>
  									</td>
									<td class="active">
										<code>
											var array = [];<br>
											for(var i = 0; i &lt; 10000; i++){<br>
											&nbsp;&nbsp;&nbsp;&nbsp;array[i] = "&lt;input type='button' value='a'&gt;";<br>
											}<br>
											document.getElementById("one").innerHTML = array.join("");
										</code>
									</td>
	  							</tr>
  							</tbody>
  						</table>
  						<li>使用{}代替 new Ojbect()，使用[]代替 new Array()</li>
  						<p>对象和数组分别有上述两种创建方式，我们规定统一使用{}和[]来创建对象或数组。</p>
						<table class="table table-bordered">
  							<thead>
	  							<tr>
	  								<th class="success" width="50%">Bad Code</th>
	  								<th class="success">Good Code</th>
	  							</tr>
  							</thead>
  							<tbody>
	  							<tr>
	  								<td class="active">
  										<code>
  											var obj=new Object();<br>
											var arr=new Array();
										</code>
  									</td>
									<td class="active">
										<code>
											var obj={};<br>
											var arr=[];
										</code>
									</td>
	  							</tr>
  							</tbody>
  						</table>
  						<li>尽量避免使用全局变量</li>
  						<p>如果确实有全局变量需求，请改用数据模块、浏览器缓存以及HTML自定义属性等解决。</p>
  						<table class="table table-bordered">
  							<thead>
	  							<tr>
	  								<th class="success" width="50%">Bad Code</th>
	  								<th class="success">Good Code</th>
	  							</tr>
  							</thead>
  							<tbody>
	  							<tr>
	  								<td class="active">
  										<code>
  											var name = 'Jeffrey';<br> 
											var lastName = 'Way'; <br>
											function doSomething() {<br>
											&nbsp;&nbsp;&nbsp;&nbsp;	...<br>
											}<br>
											console.log(name);
										</code>
  									</td>
									<td class="active">
										<code>
											var DudeNameSpace = { <br>
											&nbsp;&nbsp;&nbsp;&nbsp;	name : 'Jeffrey',<br>
											&nbsp;&nbsp;&nbsp;&nbsp;	lastName : 'Way',<br>
											&nbsp;&nbsp;&nbsp;&nbsp;	doSomething : function() {<br>
											&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;		...<br>
											&nbsp;&nbsp;&nbsp;&nbsp;	}<br>
											}<br>
											console.log(DudeNameSpace.name);
										</code>
									</td>
	  							</tr>
  							</tbody>
  						</table>
  						<li>选择短路求值</li>
  						<p>短路求值是一个从左到右求值的表达式，用&&（逻辑与）或 || （逻辑或）操作符。</p>
  						<table class="table table-bordered">
  							<thead>
	  							<tr>
	  								<th class="success" width="50%">Bad Code</th>
	  								<th class="success">Good Code</th>
	  							</tr>
  							</thead>
  							<tbody>
	  							<tr>
	  								<td class="active">
  										<code>
  											function initVar($myVar) {<br>
											&nbsp;&nbsp;&nbsp;&nbsp;	if(!$myVar) {<br>
											&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;		$myVar = $('#selector');<br>
											&nbsp;&nbsp;&nbsp;&nbsp;	}<br>
											}

										</code>
  									</td>
									<td class="active">
										<code>
											function initVar($myVar) {<br>
											&nbsp;&nbsp;&nbsp;&nbsp;	$myVar = $myVar || $('#selector');<br>
											}

										</code>
									</td>
	  							</tr>
  							</tbody>
  						</table>
  					<h2 id="code-block">jquery使用约定</h2>
					    <li>缓存jquery对象</li>
					    <p>DOM遍历需要耗费较多资源，所以应将重用jquery对象进行缓存，避免同一段代码中重复进行DOM遍历。</p>
					    <table class="table table-bordered">
  							<thead>
	  							<tr>
	  								<th class="success" width="50%">Bad Code</th>
	  								<th class="success">Good Code</th>
	  							</tr>
  							</thead>
  							<tbody>
	  							<tr>
	  								<td class="active">
  										<code>
  											var h = $('#element').height();<br>
											$('#element').css('height',h-20);
										</code>
  									</td>
									<td class="active">
										<code>
											var $element = $('#element');<br>
											var h = $element.height();<br>
											$element.css('height',h-20);
										</code>
									</td>
	  							</tr>
  							</tbody>
  						</table>
					    <li>采用链式写法</li>
					    <p>采用链式写法时，jquery会自动缓存每一步的结果，比非链式写法（手动缓存）要快。</p>
					    <table class="table table-bordered">
  							<thead>
	  							<tr>
	  								<th class="success" width="50%">Bad Code</th>
	  								<th class="success">Good Code</th>
	  							</tr>
  							</thead>
  							<tbody>
	  							<tr>
	  								<td class="active">
  										<code>
  											v$second.html(value);<br>
											$second.on('click',function(){<br>
											&nbsp;&nbsp;&nbsp;&nbsp;alert('hello everybody');<br>
											});<br>
											$second.fadeIn('slow');<br>
											$second.animate({height:'120px'},500);
										</code>
  									</td>
									<td class="active">
										<code>
											$second.html(value);<br>
											$second<br>
											&nbsp;&nbsp;&nbsp;&nbsp;.on('click',function(){alert('hello everybody');})<br>
											&nbsp;&nbsp;&nbsp;&nbsp;.fadeIn('slow')<br>
											&nbsp;&nbsp;&nbsp;&nbsp;.animate({height:'120px'},500);
										</code>
									</td>
	  							</tr>
  							</tbody>
  						</table>
  						<p>说明：使用链式的同时，可能带来代码的难以阅读等问题，这时，需要严格按照规范对代码格式进行调整。</p>
					    <li>优化选择器</li>
					    <p>①优先选择性能高的选择器来确定元素。</p>
					    <p>选择器的性能由高到低为：ID选择器和标签元素选择器&gt;类选择器&gt;伪类选择器和属性选择器。</p>
					    <p>②选择条件中不要添加额外的选择符。</p>
					    <table class="table table-bordered">
  							<thead>
	  							<tr>
	  								<th class="success" width="50%">Bad Code</th>
	  								<th class="success">Good Code</th>
	  							</tr>
  							</thead>
  							<tbody>
	  							<tr>
	  								<td class="active">
  										<code>
  											$('div#myid');<br>
											$('div#footer a.myLink');<br>
											$('#outer #inner');//避免多个ID选择符

										</code>
  									</td>
									<td class="active">
										<code>
											$('#myid');<br>
											$('#footer .myLink');<br>
											$('#inner');

										</code>
									</td>
	  							</tr>
  							</tbody>
  						</table>
  						<p>③不要使用通用选择符或隐式通用选择符。</p>
  						<table class="table table-bordered">
  							<thead>
	  							<tr>
	  								<th class="success" width="50%">Bad Code</th>
	  								<th class="success">Good Code</th>
	  							</tr>
  							</thead>
  							<tbody>
	  							<tr>
	  								<td class="active">
  										<code>
  											$('.container > *');<br>
											$('.someclass :radio');//隐式通用选择符
										</code>
  									</td>
									<td class="active">
										<code>
											$('.container').children();<br>
											$('.someclass input:radio');

										</code>
									</td>
	  							</tr>
  							</tbody>
  						</table>
					    <li>尽量减少DOM结构的改动次数</li>
					    <p>在大量的DOM操作中，需先把要改动的部分取出来，改动完成后再放回去。</p>
					    <table class="table table-bordered">
  							<thead>
	  							<tr>
	  								<th class="success" width="50%">Bad Code</th>
	  								<th class="success">Good Code</th>
	  							</tr>
  							</thead>
  							<tbody>
	  							<tr>
	  								<td class="active">
  										<code>
  											var topList= [...],// 这里是100个字符串的数组<br>
											&nbsp;&nbsp;&nbsp;&nbsp;	$mylist=$("#mylist");<br>
											for (var i=0, l= topList.length; i &lt; l; i++){<br>
											&nbsp;&nbsp;&nbsp;&nbsp;	$mylist.append("&lt;li&gt;" + topList [i] + "&lt;/li&gt;"); //100次DOM操作<br>
											}
										</code>
  									</td>
									<td class="active">
										<code>
											var topList = [...],<br>
											&nbsp;&nbsp;&nbsp;&nbsp;	$mylist = $("#mylist"),<br>
											&nbsp;&nbsp;&nbsp;&nbsp;	topLi = ""; //这个变量用来存储变化的字符串<br>
											for (var i=0, l= topList.length; i &lt; l; i++){<br>
											&nbsp;&nbsp;&nbsp;&nbsp;   topLi += "&lt;li&gt;" + topList [i] + "&lt;/li&gt;";<br>
											} <br>
											$mylist.html(topLi);//DOM操作只有这么一次
										</code>
									</td>
	  							</tr>
  							</tbody>
  						</table>
					    <li>使用”on”方法</li>
					    <p>使用on() 方法作为附加事件处理程序的首选方法。</p>
					    <table class="table table-bordered">
  							<thead>
	  							<tr>
	  								<th class="success" width="50%">Bad Code</th>
	  								<th class="success">Good Code</th>
	  							</tr>
  							</thead>
  							<tbody>
	  							<tr>
	  								<td class="active">
  										<code>
  											$first.click(function(){<br>
											&nbsp;&nbsp;&nbsp;&nbsp;	$first.css('border','1px solid red');<br>
											&nbsp;&nbsp;&nbsp;&nbsp;	$first.css('color','blue');<br>
											});<br>
											$first.hover(function(){<br>
											&nbsp;&nbsp;&nbsp;&nbsp;	$first.css('border','1px solid red');<br>
											})
										</code>
  									</td>
									<td class="active">
										<code>
											$first.on('click',function(){<br>
											&nbsp;&nbsp;&nbsp;&nbsp;	$first.css('border','1px solid red');<br>
											&nbsp;&nbsp;&nbsp;&nbsp;	$first.css('color','blue');<br>
											})<br>
											$first.on('hover',function(){<br>
											&nbsp;&nbsp;&nbsp;&nbsp;	$first.css('border','1px solid red');<br>
											})
										</code>
									</td>
	  							</tr>
  							</tbody>
  						</table>
				  	<h2 id="code-appointment">RequireJS使用约定</h2>
				  		<li>定义模块</li>
				  		<p>每一个模块均须定义在一个单独的JS文件里(注：本节中，如无特别说明，模块两字均表示这种)，定义形式有以下两种：</p>
				  		<p id="data_module">①数据模块</p>
				  		<p>这类模块不需要依赖其他任何模块，一般用于存放数据。</p>
				  		<div class="highlight"><pre><code class="language-html" data-lang="html"><span >define({</span><br><span >    addUrl:"/Sync10/basicdata/countrys/addCountry",</span><br><span >    modUrl:"/Sync10/basicdata/countrys/updateCountry",</span><br><span >    getUrl:"/Sync10/basicdata/countrys/getCountry"</span><br><span >});</code></pre></div>
					  	<p id="code-regulation">②代码模块</p>
					  	<p>被定义的模块需依赖其他模块。除数据模块外，其他模块都使用这种方法定义。</p>
					  	<div class="highlight"><pre><code class="language-html" data-lang="html"><span >define(['module1','module2'],function(m1,m2){</span><br><span >    ......</span><br><span >});</span></code></pre></div>
				  		<li>调用模块</li>
				  		<p>模块调用根据目的不同，也有两种调用方式：</p>
				  		<p>①执行入口</p>
				  		<p>main.js中的程序执行入口处，用require方法调用模块，其参数与define方法类似。</p>
				  		<div class="highlight"><pre><code class="language-html" data-lang="html"><span >require(['requireConfig'],function(requireConfig){</span><br><span >    ......</span><br><span >});</span></code></pre></div>
				  		<p>②依赖注入</p>
				  		<p>除以上调用方式外，其他模块均通过依赖注入的方式被新模块调用。调用方式采用本节<a href="#code-regulation">代码模块</a>中的规范。</p>
				  		<li>配置require.js</li>
				  		<p>require方法本身也是一个对象，它带有一个config方法，用来配置require.js运行参数。</p>
				  		<div class="highlight"><pre><code data-lang="html"><span>requirejs.config({</span><br><span >    paths:{</span><br><span >        "oso.lib":"/Sync10-ui/lib"</span><br><span>    },</span><br><span >    shim: {</span><br><span>        'jquery.dynamicTable': ['jquery']</span><br><span>    }</span><br><span>});</span></code></pre></div>
				  		<li>模块化总体规范</li>
				  		<p>除了满足上述模块定义、模块调用以及配置等基本规范外，每一个功能模块(注：功能模块指的是能完成一定功能的程序集，在Backbone框架中，一个功能模块拥有一个SPA页)也需要满足一定要求：</p>
				  		<p>①每一个功能模块最多只能有一个main.js(程序入口)、一个requireConfig.js(RequireJS的配置文件，可选)、一个config.js(功能模块的配置信息，参考<a href="#data_module">数据模块规范</a>)文件。</p>
				  		<p>②以上三个文件名称不能随意更改。</p>
				  		<p>③在main.js中，一般先调用全域RequireJS配置文件。</p>
				  		<div class="highlight"><pre><code data-lang="html"><span>require(["&lt;UI项目根目录&gt;/requireConfig"], function() { //全域RequireJS配置注入</span><br><span >    require(["&lt;本模块目录&gt; / requireConfig"], function() { //本模块RequireJS配置注入(可选)</span><br><span >        require(["jquery", "models/admin"], function($, AdminModel) {</span><br><span>             ......</span><br><span>        });</span><br><span>    });</span><br><span>});</span></code></pre></div>
				  	<h2 id="code-appointment2">Backbone使用约定</h2>
				  		<li>视图是数据无关的</li>
				  		<p>数据属于模型或集合，不能在视图或者DOM中存储数据，须做到数据层和视图层的关注点分离。
				  		</p>
				  		<li>DOM事件只改变model</li>
				  		<p>当一个DOM事件触发时，不要让它改变view本身，而是去改变这个model。</p>
				  		<li>DOM只有在model发生改变时才改变</li>
				  		<p>只有当model发生改变时，才能相应地改变其对应的DOM(或view)。</p>
				  		<li>绑定的东西必须解绑</li>
				  		<p>当视图从DOM上移除时，使用”remove”方法，视图必须从所绑定的事件上解绑。</p>
				  		<li>视图的作用域</li>
				  		<p>视图不要操作除它本身以外的DOM。当你需要操作另一个视图时，可以触发一个事件，让其自身去完成。</p>
				  		<li>组件封装</li>
				  		<p>组件封装时，用暴露view的方式提供接口给用户。如果model为某一view私有，就无需单独写一个model的JS文件，而是把model与view定义在一个命名空间下，封装起来。</p>
				  		<li>Backbone中路由(router)的处理</li>
				  		<p>在程序中需要根据需求，合理设置Backbone路由，满足客户要求。本文档规定，使用Hash规则设定路由。</p>
				  	<h2 id="code-iframe">其他JS框架的使用</h2>
				  		<li>若项目需要再引入其他JS第三方库，须与团队其他成员协商，且经领导同意，才能使用。用以上JS库为基础开发出来的JS插件除外，可以直接使用。
				  		</li>
				  		<li>BootStrap建议用require-CSS的方式将模块与它依赖的CSS文件进行耦合。
				  		</li>
				  		<li>所有JS第三方库版本均用bower.js统一进行管理，全公司统一用相同版本进行开发。如有特别需求，同样需协商且经领导同意解决。
				  		</li>
				  		<li>模板引擎推荐使用handlebars（编译或非编译模式均可），简单模板用underscore.js内置的模板工具即可。
				  		</li>
				</div>
			</div>
			<!--右侧内容结束-->
		</div>
	</div>
	<!--主体内容结束-->
	<!--网站底部开始-->
	<div class="oso-docs-footer text-center">Copyright © 2006-2015 OSO</div>
	<!--网站底部结束-->
	<!-- jQuery文件。务必在bootstrap.min.js 之前引入 -->
	<script src="lib/bootstrap/js/jquery-1.11.3.min.js"></script>
	<!-- 最新的 Bootstrap 核心 JavaScript 文件 -->
	<script src="lib/bootstrap/js/bootstrap.min.js"></script>
	<script src="js/docs.js"></script>
</body>
</html>